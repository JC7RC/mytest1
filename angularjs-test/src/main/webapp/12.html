<!DOCTYPE html>
<html lang="en">
<head>
    <title>Angular表达式</title>
    <meta charset="UTF-8"/>
    <meta http-equiv="pragma" content="no-cache"/>
    <script src="js/angular.min.js"></script>
    <script type="text/javascript">
        /*
        * $http.post()发送post请求:
        * 语法格式：
        *       $http.post(url,{"id" : id}).then(function(response){     //请求成功
         *          response:响应对象封装了响应数据、状态码
         *      },function(response){           //请求失败
         *          response：响应对象封装了响应状态码
         *      });
        */
        var myApp = angular.module("myApp",[]);
        myApp.controller("myController",function ($scope,$http) {
            $scope.sendPost = function () {
                $http.post("/user",{"name" : "CR7"}).then(function (response) {
                    if(response.status == 200){
                        $scope.res = response.data;
                    }
                },function (response) {
                    alert("加载数据失败")
                });
            };
        });
    </script>
</head>
<!-- 指定AngularJS应用的根元素 -->
<body ng-app="myApp" ng-controller="myController" ng-init="sendPost();">
    {{res.msg}}
</body>
</html>